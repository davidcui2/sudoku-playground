(this["webpackJsonpsudoku-playground"]=this["webpackJsonpsudoku-playground"]||[]).push([[0],{1:function(o,n,e){o.exports={row:"Sudoku_row__3XpHE",gridRow:"Sudoku_gridRow__Df9Ap",cell:"Sudoku_cell__SGUHs",pencilMarks:"Sudoku_pencilMarks__3H5pR",selectedCell:"Sudoku_selectedCell__1VVDn",predefinedCell:"Sudoku_predefinedCell__2EFLm",invalidCell:"Sudoku_invalidCell__2RgwF",boldCellLeft:"Sudoku_boldCellLeft__1VSTK",boldCellTop:"Sudoku_boldCellTop__3FvA0",boldCellRight:"Sudoku_boldCellRight__1DpI3",boldCellBottom:"Sudoku_boldCellBottom__1za-O",textbox:"Sudoku_textbox__YNx7y",button:"Sudoku_button__t_AOF",textArea:"Sudoku_textArea__2rlg6"}},17:function(o){o.exports=JSON.parse('[{"cells":[{"row":0,"column":0},{"row":0,"column":1},{"row":0,"column":2},{"row":0,"column":3},{"row":0,"column":4},{"row":0,"column":5},{"row":0,"column":6},{"row":0,"column":7},{"row":0,"column":8}],"type":"distinct"},{"cells":[{"row":1,"column":0},{"row":1,"column":1},{"row":1,"column":2},{"row":1,"column":3},{"row":1,"column":4},{"row":1,"column":5},{"row":1,"column":6},{"row":1,"column":7},{"row":1,"column":8}],"type":"distinct"},{"cells":[{"row":2,"column":0},{"row":2,"column":1},{"row":2,"column":2},{"row":2,"column":3},{"row":2,"column":4},{"row":2,"column":5},{"row":2,"column":6},{"row":2,"column":7},{"row":2,"column":8}],"type":"distinct"},{"cells":[{"row":3,"column":0},{"row":3,"column":1},{"row":3,"column":2},{"row":3,"column":3},{"row":3,"column":4},{"row":3,"column":5},{"row":3,"column":6},{"row":3,"column":7},{"row":3,"column":8}],"type":"distinct"},{"cells":[{"row":4,"column":0},{"row":4,"column":1},{"row":4,"column":2},{"row":4,"column":3},{"row":4,"column":4},{"row":4,"column":5},{"row":4,"column":6},{"row":4,"column":7},{"row":4,"column":8}],"type":"distinct"},{"cells":[{"row":5,"column":0},{"row":5,"column":1},{"row":5,"column":2},{"row":5,"column":3},{"row":5,"column":4},{"row":5,"column":5},{"row":5,"column":6},{"row":5,"column":7},{"row":5,"column":8}],"type":"distinct"},{"cells":[{"row":6,"column":0},{"row":6,"column":1},{"row":6,"column":2},{"row":6,"column":3},{"row":6,"column":4},{"row":6,"column":5},{"row":6,"column":6},{"row":6,"column":7},{"row":6,"column":8}],"type":"distinct"},{"cells":[{"row":7,"column":0},{"row":7,"column":1},{"row":7,"column":2},{"row":7,"column":3},{"row":7,"column":4},{"row":7,"column":5},{"row":7,"column":6},{"row":7,"column":7},{"row":7,"column":8}],"type":"distinct"},{"cells":[{"row":8,"column":0},{"row":8,"column":1},{"row":8,"column":2},{"row":8,"column":3},{"row":8,"column":4},{"row":8,"column":5},{"row":8,"column":6},{"row":8,"column":7},{"row":8,"column":8}],"type":"distinct"},{"cells":[{"column":0,"row":0},{"column":0,"row":1},{"column":0,"row":2},{"column":0,"row":3},{"column":0,"row":4},{"column":0,"row":5},{"column":0,"row":6},{"column":0,"row":7},{"column":0,"row":8}],"type":"distinct"},{"cells":[{"column":1,"row":0},{"column":1,"row":1},{"column":1,"row":2},{"column":1,"row":3},{"column":1,"row":4},{"column":1,"row":5},{"column":1,"row":6},{"column":1,"row":7},{"column":1,"row":8}],"type":"distinct"},{"cells":[{"column":2,"row":0},{"column":2,"row":1},{"column":2,"row":2},{"column":2,"row":3},{"column":2,"row":4},{"column":2,"row":5},{"column":2,"row":6},{"column":2,"row":7},{"column":2,"row":8}],"type":"distinct"},{"cells":[{"column":3,"row":0},{"column":3,"row":1},{"column":3,"row":2},{"column":3,"row":3},{"column":3,"row":4},{"column":3,"row":5},{"column":3,"row":6},{"column":3,"row":7},{"column":3,"row":8}],"type":"distinct"},{"cells":[{"column":4,"row":0},{"column":4,"row":1},{"column":4,"row":2},{"column":4,"row":3},{"column":4,"row":4},{"column":4,"row":5},{"column":4,"row":6},{"column":4,"row":7},{"column":4,"row":8}],"type":"distinct"},{"cells":[{"column":5,"row":0},{"column":5,"row":1},{"column":5,"row":2},{"column":5,"row":3},{"column":5,"row":4},{"column":5,"row":5},{"column":5,"row":6},{"column":5,"row":7},{"column":5,"row":8}],"type":"distinct"},{"cells":[{"column":6,"row":0},{"column":6,"row":1},{"column":6,"row":2},{"column":6,"row":3},{"column":6,"row":4},{"column":6,"row":5},{"column":6,"row":6},{"column":6,"row":7},{"column":6,"row":8}],"type":"distinct"},{"cells":[{"column":7,"row":0},{"column":7,"row":1},{"column":7,"row":2},{"column":7,"row":3},{"column":7,"row":4},{"column":7,"row":5},{"column":7,"row":6},{"column":7,"row":7},{"column":7,"row":8}],"type":"distinct"},{"cells":[{"column":8,"row":0},{"column":8,"row":1},{"column":8,"row":2},{"column":8,"row":3},{"column":8,"row":4},{"column":8,"row":5},{"column":8,"row":6},{"column":8,"row":7},{"column":8,"row":8}],"type":"distinct"},{"cells":[{"row":0,"column":0},{"row":0,"column":1},{"row":0,"column":2},{"row":1,"column":2},{"row":1,"column":1},{"row":1,"column":0},{"row":2,"column":0},{"row":2,"column":1},{"row":2,"column":2}],"type":"distinct"},{"cells":[{"row":0,"column":3},{"row":0,"column":4},{"row":0,"column":5},{"row":1,"column":5},{"row":1,"column":4},{"row":1,"column":3},{"row":2,"column":3},{"row":2,"column":4},{"row":2,"column":5}],"type":"distinct"},{"cells":[{"row":0,"column":6},{"row":0,"column":7},{"row":0,"column":8},{"row":1,"column":8},{"row":1,"column":7},{"row":1,"column":6},{"row":2,"column":6},{"row":2,"column":7},{"row":2,"column":8}],"type":"distinct"},{"cells":[{"row":3,"column":8},{"row":4,"column":8},{"row":5,"column":8},{"row":5,"column":7},{"row":5,"column":6},{"row":4,"column":6},{"row":4,"column":7},{"row":3,"column":7},{"row":3,"column":6}],"type":"distinct"},{"cells":[{"row":3,"column":5},{"row":4,"column":5},{"row":5,"column":5},{"row":5,"column":4},{"row":5,"column":3},{"row":4,"column":3},{"row":4,"column":4},{"row":3,"column":4},{"row":3,"column":3}],"type":"distinct"},{"cells":[{"row":3,"column":2},{"row":4,"column":2},{"row":5,"column":2},{"row":5,"column":1},{"row":5,"column":0},{"row":4,"column":0},{"row":4,"column":1},{"row":3,"column":1},{"row":3,"column":0}],"type":"distinct"},{"cells":[{"row":6,"column":2},{"row":7,"column":2},{"row":8,"column":2},{"row":8,"column":1},{"row":8,"column":0},{"row":7,"column":0},{"row":7,"column":1},{"row":6,"column":1},{"row":6,"column":0}],"type":"distinct"},{"cells":[{"row":6,"column":3},{"row":6,"column":4},{"row":6,"column":5},{"row":7,"column":5},{"row":7,"column":4},{"row":7,"column":3},{"row":8,"column":3},{"row":8,"column":4},{"row":8,"column":5}],"type":"distinct"},{"cells":[{"row":6,"column":6},{"row":6,"column":7},{"row":6,"column":8},{"row":7,"column":8},{"row":7,"column":7},{"row":7,"column":6},{"row":8,"column":6},{"row":8,"column":7},{"row":8,"column":8}],"type":"distinct"}]')},22:function(o,n,e){},27:function(o,n,e){},28:function(o,n,e){"use strict";e.r(n);var l=e(0),c=e.n(l),r=e(11),t=e.n(r),u=(e(22),e(3)),a=e(16),m=e(4),i=e(10),w=e.n(i),s=e(6),d=e(2),f=e(14),p=e(8),b=e(17),y=["distinct","equality","inequality","sumTo"],v=new Array(9).fill(void 0),C=v.map((function(o){return v.map((function(o){return{possible:Array.from(Array(9).keys()),pencilMarks:[],confirmed:void 0,predefined:!1}}))}));"5-482--69;---7-9-1-;---546---;2-695--3-;1396-42--;7---129--;62-4-----;9--2--473;--3-97--2;".split(";").forEach((function(o,n){for(var e=0;e<o.length;e++){var l=o.charAt(e);"-"!==l&&(C[n][e].confirmed=Number.parseInt(l),C[n][e].predefined=!0)}}));var k={rowCount:0,columnCount:0,cellData:C,constraints:b,invalidCells:[]},O=Object(p.b)({name:"sudoku",initialState:k,reducers:{initializeBoard:function(o,n){var e=n.payload,l=e.row,c=e.column;o.rowCount=l,o.columnCount=c;var r=Array(l).fill(Array(c).fill({possible:Array.from(Array(c).keys()),pencilMarks:[]}));o.cellData=r;var t=r.map((function(o,n){return{cells:o.map((function(o,e){return{row:n,column:e}})),type:"distinct"}})),u=r.map((function(o,n){return{cells:o.map((function(o,e){return{column:n,row:e}})),type:"distinct"}}));o.constraints=[].concat(Object(f.a)(t),Object(f.a)(u))},setPencilMark:function(o,n){var e=n.payload,l=e.row,c=e.column,r=e.number;o.cellData[l][c].predefined||(o.cellData=o.cellData.map((function(o,n){return o.map((function(o,e){return n===l&&e===c?Object(d.a)(Object(d.a)({},o),{},{pencilMarks:Array.from(new Set(o.pencilMarks).add(r))}):o}))})))},clearPencilMark:function(o,n){var e=n.payload,l=e.row,c=e.column;o.cellData=o.cellData.map((function(o,n){return o.map((function(o,e){return n===l&&e===c?Object(d.a)(Object(d.a)({},o),{},{pencilMarks:[]}):o}))}))},setFinalNumber:function(o,n){var e=n.payload,l=e.row,c=e.column,r=e.number;o.cellData[l][c].predefined||(o.cellData=o.cellData.map((function(o,n){return o.map((function(o,e){return n===l&&e===c?Object(d.a)(Object(d.a)({},o),{},{confirmed:r}):o}))})))},clearFinalNumber:function(o,n){var e=n.payload,l=e.row,c=e.column;o.cellData[l][c].predefined||(o.cellData=o.cellData.map((function(o,n){return o.map((function(o,e){return n===l&&e===c?Object(d.a)(Object(d.a)({},o),{},{confirmed:void 0}):o}))})))},setPredefined:function(o,n){var e=n.payload,l=e.row,c=e.column,r=e.number,t=e.predefined,u=void 0!==t&&t;o.cellData=o.cellData.map((function(o,n){return o.map((function(o,e){return n===l&&e===c?Object(d.a)(Object(d.a)({},o),{},{confirmed:r,pencilMarks:[],predefined:u}):o}))}))},clearPredefined:function(o,n){var e=n.payload,l=e.row,c=e.column;o.cellData=o.cellData.map((function(o,n){return o.map((function(o,e){return n===l&&e===c?Object(d.a)(Object(d.a)({},o),{},{confirmed:void 0,predefined:!1}):o}))}))},validateConstraint:function(o){var n=new Set;o.constraints.forEach((function(e){switch(e.type){case"distinct":for(var l=0;l<e.cells.length;l++)for(var c=l+1;c<e.cells.length;c++){var r=o.cellData[e.cells[l].row][e.cells[l].column].confirmed,t=o.cellData[e.cells[c].row][e.cells[c].column].confirmed;r&&r===t&&(n.add(e.cells[l]),n.add(e.cells[c]))}}})),o.invalidCells=Array.from(n)},clearInvalidCells:function(o){o.invalidCells=[]},importConstraints:function(o,n){o.constraints=JSON.parse(n.payload)},addConstrainst:function(o,n){o.constraints.push(n.payload)}}}),j=O.actions,E=j.initializeBoard,_=j.setPencilMark,N=j.clearPencilMark,S=j.setFinalNumber,h=j.clearFinalNumber,g=j.validateConstraint,A=j.clearInvalidCells,D=j.importConstraints,M=j.addConstrainst,x=(j.setPredefined,j.clearPredefined,function(o){return o.sudoku.cellData}),B=function(o){return o.sudoku.invalidCells},L=function(o){return o.sudoku.constraints},F=O.reducer;var I=e(1),P=e.n(I);function R(o){var n=Object(s.b)(),e=Object(s.c)(L),r=Object(l.useState)(9),t=Object(m.a)(r,2),a=t[0],i=t[1],d=Object(l.useState)(9),f=Object(m.a)(d,2),p=f[0],b=f[1],v=Object(l.useState)(""),C=Object(m.a)(v,2),k=C[0],O=C[1],j=Object(l.useState)(!0),_=Object(m.a)(j,2),N=_[0],S=_[1],h=Object(l.useState)("distinct"),g=Object(m.a)(h,2),A=g[0],x=g[1],B=Object(l.useRef)(null);return Object(l.useEffect)((function(){try{var o=JSON.parse(k);console.dir(o),Array.isArray(o)&&o.every((function(o){return y.includes(o.type)}))?S(!0):S(!1)}catch(n){S(!1)}}),[k]),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:P.a.row},c.a.createElement("h2",null,"Set up panel")),c.a.createElement("div",{className:P.a.row},c.a.createElement("input",{className:P.a.textbox,"aria-label":"Set row number",value:a,onChange:function(o){return i(Number.parseInt(o.target.value))},type:"number"}),c.a.createElement("input",{className:P.a.textbox,"aria-label":"Set column number",value:p,onChange:function(o){return b(Number.parseInt(o.target.value))},type:"number"}),c.a.createElement("button",{className:P.a.button,onClick:function(){return n(E({row:a,column:p}))}},"Initialize")),c.a.createElement("div",{className:P.a.row},c.a.createElement("textarea",{className:w()(P.a.textArea,Object(u.a)({},P.a.invalidCell,!N)),value:k,onChange:function(o){return O(o.target.value)},rows:5,ref:B})),c.a.createElement("div",{className:P.a.row},c.a.createElement("button",{className:P.a.button,onClick:function(){O(JSON.stringify(e))}},"Export"),c.a.createElement("button",{className:P.a.button,onClick:function(){return console.log(k),void(B.current&&(B.current.select(),document.execCommand("copy")))}},"Copy"),c.a.createElement("button",{className:P.a.button,onClick:function(){N||n(D(k))}},"Import")),c.a.createElement("div",{className:P.a.row},c.a.createElement("p",null,o.selectedCells.length," selected cell(s)")),c.a.createElement("div",{className:P.a.row},c.a.createElement("p",null,"New constraint type - "),c.a.createElement("select",{value:A,onChange:function(o){x(o.target.value)}},y.map((function(o){return c.a.createElement("option",{key:o},o)})))),c.a.createElement("div",{className:P.a.row},c.a.createElement("button",{className:P.a.button,onClick:function(){return n(M({cells:o.selectedCells,type:A}))}},"Add new constraint")))}function T(){var o,n=Object(s.c)(x),e=Object(s.c)(B),r=Object(s.b)(),t=Object(l.useState)([]),i=Object(m.a)(t,2),d=i[0],f=i[1],p=Object(l.useState)(!1),b=Object(m.a)(p,2),y=b[0],v=b[1],C=Object(l.useState)(!1),k=Object(m.a)(C,2),O=k[0],j=k[1],E=function(){return v((function(o){return!o}))},D=function(){return r(g())},M=function(){f([]),r(A())};return o=function(o){var n=o.key,e=o.keyCode,l=o.ctrlKey;if("t"!==n.toLowerCase())if("v"!==n.toLowerCase())if("c"!==n.toLowerCase())if(l&&"a"===n.toLowerCase())j((function(o){return!o}));else{var c,t=Object(a.a)(d);try{for(t.s();!(c=t.n()).done;){var u=c.value;e>48&&e<58?r(y?_({row:u.row,column:u.column,number:+n}):S({row:u.row,column:u.column,number:+n})):"Backspace"!==n&&"Delete"!==n||r(y?N({row:u.row,column:u.column}):h({row:u.row,column:u.column}))}}catch(m){t.e(m)}finally{t.f()}}else M();else D();else E()},Object(l.useEffect)((function(){return window.addEventListener("keydown",o),function(){window.removeEventListener("keydown",o)}})),c.a.createElement("div",null,c.a.createElement("div",{className:P.a.row},c.a.createElement("button",{className:P.a.button,onClick:E},y?"Entering Pencil Mark (T)":"Entering Answer (T)"),c.a.createElement("button",{className:P.a.button,onClick:D},"Validate (V)"),c.a.createElement("button",{className:P.a.button,onClick:M},"Clear selection (C)")),O&&c.a.createElement("div",{className:P.a.row},c.a.createElement("p",{style:{color:"red"}},"Admin mode")),n.map((function(o,n){return c.a.createElement("div",{className:P.a.gridRow,key:"row".concat(n)},o.map((function(o,l){var r;return c.a.createElement("div",{className:w()(P.a.cell,(r={},Object(u.a)(r,P.a.boldCellLeft,l%3===0),Object(u.a)(r,P.a.boldCellRight,l%3===2),Object(u.a)(r,P.a.boldCellTop,n%3===0),Object(u.a)(r,P.a.boldCellBottom,n%3===2),Object(u.a)(r,P.a.selectedCell,d.some((function(o){return o.row===n&&o.column===l}))),Object(u.a)(r,P.a.invalidCell,e.some((function(o){return n===o.row&&l===o.column}))),r)),onClick:function(o){return function(o,n,e){if(o.metaKey||o.ctrlKey)f(Array.from(new Set(d).add({row:n,column:e})));else if(o.shiftKey)if(0===d.length)f([{row:n,column:e}]);else{for(var l=d[d.length-1],c=Math.min(n,l.row),r=Math.max(n,l.row),t=Math.min(e,l.column),u=Math.max(e,l.column),a=new Set(d),m=c;m<=r;m++)for(var i=t;i<=u;i++)a.add({row:m,column:i});f(Array.from(a))}else 1===d.length&&d[0].column===e&&d[0].row===n?f([]):f([{row:n,column:e}])}(o,n,l)},key:"c".concat(l,"r").concat(n)},c.a.createElement("div",{className:P.a.pencilMarks},o.pencilMarks.slice().sort().join(" ")),c.a.createElement("div",{className:w()(Object(u.a)({},P.a.predefinedCell,o.predefined))},o.confirmed))})))})),O&&c.a.createElement(R,{selectedCells:d}))}e(27);var J=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(T,null))},K=Object(p.b)({name:"counter",initialState:{value:0},reducers:{increment:function(o){o.value+=1},decrement:function(o){o.value-=1},incrementByAmount:function(o,n){o.value+=n.payload}}}),V=K.actions,z=(V.increment,V.decrement,V.incrementByAmount,K.reducer),H=Object(p.a)({reducer:{counter:z,sudoku:F}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(s.a,{store:H},c.a.createElement(J,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(o){o.unregister()})).catch((function(o){console.error(o.message)}))}},[[28,1,2]]]);
//# sourceMappingURL=main.bbbd9d95.chunk.js.map